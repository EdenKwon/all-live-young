<!DOCTYPE html>
<html th:replace="~{fragment/layout.html :: layout(~{::section})}" xmlns:th="http://www.thymeleaf.org">

<section>
  <div class="container-fluid">

    <!-- Page Heading -->
    <div class="container-fluid">

      <!-- Page Heading -->
      <h1 class="h3 mb-2 text-gray-800">출고 요청</h1>
      <p class="mb-4">출고 요청 설명</p>

      <div class="card shadow mb-4 p-3" >
        <div class="mt-2">
          <form id="filterForm" th:action="@{outbound-requests}" method="post">
            <div class="ml-1">
              <input type="checkbox" name="types" value="waiting" id="waiting"> 처리 대기중
              <input type="checkbox" name="types" value="approved" id="approved"> 승인
              <input type="checkbox" name="types" value="rejected" id="rejected"> 반려
            </div>
            <button class="btn btn-primary" type="submit">조회</button>
          </form>
          <form id="saveForm" th:action="@{outbound-request/save}" method="get">
            <button class="btn btn-primary" id="registerBtn" type="submit">등록</button>
          </form>
        </div>
      </div>
    </div>

    <!-- DataTales Example -->
    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">전체 출고</h6>
      </div>
      <div class="card-body">
        <div class="table-responsive table-scroll">
          <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
            <th>번호</th>
            <th>출고요청코드</th>
            <th>처리상태</th>
            <th>주문자ID</th>
            <th>재고번호</th>
            <th>주문수량</th>
            <th>수취인 이름</th>
            <th>수취인 주소</th>
            <th>수취인 연락처</th>
            <th>이상유무</th>
            <th>반려사유</th>
            <th>등록일자</th>
            <th>수정일자</th>
            <th>비고</th>
            </tr>
            </thead>

            <tbody>

            <tr th:each="outboundRequest : ${outboundRequestList}">
              <div th:if="${outboundRequest != null}">
                <span th:text="${outboundRequest.id}"></span>
              </div>
              <td>
                <a th:href="@{outbound-requests/{id}(id=${outboundRequest.id})}">
                  <span th:text="${outboundRequest.code}"></span>
                </a>
              </td>
              <td th:text="${outboundRequest.status}"></td>
              <td th:text="${outboundRequest.member.id}"></td>
              <td th:text="${outboundRequest.stock.id}"></td>
              <td th:text="${outboundRequest.quantity}"></td>
              <td th:text="${outboundRequest.recipientName}"></td>
              <td th:text="${outboundRequest.recipientAddress}"></td>
              <td th:text="${outboundRequest.recipientContact}"></td>
              <td th:text="${outboundRequest.isFault}"></td>
              <td th:text="${outboundRequest.rejectionNote}"></td>
              <td th:text="${outboundRequest.regDate}"></td>
              <td th:text="${outboundRequest.modDate != null ? outboundRequest.modDate : 'N/A'}"></td>
              <td th:text="${outboundRequest.note != null ? outboundRequest.modDate : 'N/A'}"></td>
            </tr>



            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>
</section>

</html>